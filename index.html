<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="icon" href="account.png" type="png">
    <link rel="apple-touch-icon" sizes="180x180" href="account.png">
    <link rel="icon" sizes="192x192" href="account.png">
    <link rel="icon" sizes="512x512" href="account.png">
    <link rel="icon" href="account.png" type="png">
    <meta name="theme-color" content="#ffffff">
    <title>סארי בורגר</title>
    <style>*{box-sizing:border-box;margin:0;padding:0}body{font-family:'Noto Sans Hebrew',sans-serif;touch-action:none;background:url('chat_background.png') no-repeat center center fixed;background-size:cover;display:flex;justify-content:center;align-items:center;height:90vh;overflow:hidden}.container{width:100%;max-width:480px;height:90vh;display:flex;flex-direction:column;background:rgba(255,255,255,0.9);border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,0.2);padding:0;overflow:hidden}.header{display:flex;align-items:center;margin-bottom:10px;font-size:20px;font-weight:bold;color:#333;direction:rtl;padding:10px 10px 0 0}.header img{border-radius:50%;width:40px;height:40px;margin-right:10px}.message-list{flex:1;overflow-y:auto;margin-bottom:10px;background:url('whatsapp.jpg') no-repeat;background-size:cover;border-radius:0;padding:25px 10px}.message{display:flex;align-items:flex-start;margin-bottom:10px;direction:rtl}.message img{border-radius:50%;width:35px;height:35px;margin-left:10px;display:none}.message-content{background-color:rgba(255,255,255,0.8);border-radius:10px;padding:10px;max-width:80%;position:relative;width:75%}.message-content p{margin:0;color:#333;line-height:1.4;direction:rtl}.input-container{display:flex;flex-direction:column;padding:10px}.input-group{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}input{width:48%;padding:10px;border:1px solid #ccc;border-radius:5px}textarea{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;resize:none;margin-bottom:15px}button{width:100%;padding:10px;background-color:#171717;color:white;border:none;border-radius:5px;font-size:16px;cursor:pointer}button:hover{background-color:#000000}#deleteButton{background-color:#a80e03}#deleteButton:hover{background-color:#e53935}#response{position:fixed;text-align:center;direction:rtl;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#333;color:white;padding:10px;border-radius:5px;z-index:1000;display:none}</style>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="account.png" alt="Account">
            <div style="font-size:16px;margin-right:10px;">סארי בורגר</div>
        </div>
        <div class="message-list" id="messageList"></div>
        <div class="input-container">
            <div class="input-group">
                <input type="text" id="name" name="your-name" placeholder="שם" required>
                <input type="text" id="phone" name="your-number" placeholder="מספר טלפון" required>
            </div>
            <textarea id="message" name="message" rows="4" placeholder="הזמנת" required></textarea>
            <div style="display:block;">
                <div style="float:right;margin:auto;width:50%;padding-left:5px;">
                    <button id="submitButton">שלח</button>
                </div>
                <div style="float:left;margin:auto;width:50%;padding-right:5px;">
                    <button id="deleteButton">מחק את כל ההודעות</button>
                </div>
            </div>
            <div id="response"></div>
        </div>
    </div>
    <script>
        function showResponseMessage(message,duration=3000){const responseElement=document.getElementById("response");responseElement.innerHTML=message;responseElement.style.display="block";setTimeout(()=>{responseElement.style.display="none"},duration);}
        function renderMessages(){const messageList=document.getElementById("messageList");const savedMessages=JSON.parse(localStorage.getItem("messages"))||[];messageList.innerHTML="";savedMessages.forEach(msg=>{const messageDiv=document.createElement("div");messageDiv.classList.add("message");const profilePic=document.createElement("img");profilePic.src="sari.png";profilePic.alt="Account";const messageContent=document.createElement("div");messageContent.classList.add("message-content");const date=new Date(msg.date);const formattedDate=date.toLocaleDateString('he-IL')+' '+date.toLocaleTimeString('he-IL',{hour:'2-digit',minute:'2-digit'});messageContent.innerHTML=`<p><strong>סארי אבו חממוד</strong></p><p>שם: ${msg.name}<br>טלפון: ${msg.phone}<br>הודעה: ${msg.message}<br>תאריך: ${formattedDate}</p>`;messageDiv.appendChild(profilePic);messageDiv.appendChild(messageContent);messageList.appendChild(messageDiv);});}
        document.getElementById("submitButton").addEventListener("click",function(){const name=document.getElementById("name").value;const phone=document.getElementById("phone").value;const message=document.getElementById("message").value;if(name.trim()===""||phone.trim()===""||message.trim()===""){showResponseMessage("אנא מלא את כל השדות.");return;}const savedMessages=JSON.parse(localStorage.getItem("messages"))||[];savedMessages.push({name,phone,message,date:new Date().toISOString()});localStorage.setItem("messages",JSON.stringify(savedMessages));showResponseMessage("ההודעה נשמרה!");const url="https://script.google.com/macros/s/AKfycbyGK1vMEv3JbZUIzNhvKPNwUOqY72BU61Ordb3dreuPxyhCXwu1fl1VTw0MvISo1t1u/exec";fetch(url,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({"your-name":name,"your-number":phone,"message":message})}).then(()=>{showResponseMessage("ההודעה נשלחה ונשמרה בהצלחה!");document.getElementById("message").value="";document.getElementById("name").value="";document.getElementById("phone").value="";renderMessages();}).catch(()=>{showResponseMessage("שגיאה: ההודעה לא נשלחה!");});});
        document.getElementById("deleteButton").addEventListener("click",function(){const confirmDelete=confirm("האם אתה בטוח שברצונך למחוק את כל ההודעות?");if(confirmDelete){localStorage.clear();showResponseMessage("כל ההודעות נמחקו.");renderMessages();}});
        renderMessages();
    </script>
</body>
</html>
